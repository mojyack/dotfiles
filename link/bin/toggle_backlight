#!/bin/sh
FLAG_PATH="/tmp/brightness"

on(){
	swaymsg "output * dpms on"
    echo -1 > $FLAG_PATH
}

off(){
   echo 1 > $FLAG_PATH 
   swaymsg "output * dpms off"
}

if [[ ! -e $FLAG_PATH ]]; then
    echo -1 > $FLAG_PATH
fi

if [[ $1 = "on" ]]; then
    on
    exit 0
fi

if [[ $1 = "off" ]]; then
    off
    exit 0
fi

read is_active < $FLAG_PATH
if [[ "$is_active" -ne "-1" ]]; then
    on
else
    off
fi
